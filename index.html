<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>训练与运动记录</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h3 { color: #333; }
        table { border-collapse: collapse; margin: 10px 0; }
        td, th { border: 1px solid #ddd; padding: 8px; text-align: left; }
        button { margin: 5px; padding: 5px 10px; }
        #recordDisplay { margin-top: 10px; }
    </style>
</head>
<body>
    <h1>训练与运动记录</h1>
    <p>正在加载用户ID...</p>

    <h3>是否开始训练计划</h3>
    <label><input type="radio" name="startPlan" value="yes"> 是</label>
    <label><input type="radio" name="startPlan" value="no"> 否</label>

    <h3>身体状况与参数</h3>
    <p>当前体重： 91.4 kg | 目标体重： 69 kg | 减重目标： 22.4 kg</p>
    <p>计划周期： 9-12 个月 | 每周减重目标： 0.5-1 kg</p>
    <p>训练频率： 每周 5 天（周一至周五训练，周六非训练，周日放纵）</p>

    <h3>每周训练计划</h3>
    <div id="weekly-plan">
        加载建议训练计划...
    </div>

    <div id="all-plans" style="display: none;">
        <h4>胸部训练</h4>
        <table>
            <tr><th>动作</th><th>组数与次数</th><th>目标肌群</th></tr>
            <tr><td data-details="哑铃上斜推：仰卧在倾斜凳上，双手持哑铃向上推举，注意控制动作幅度。" onclick="showDetail(this)">哑铃上斜推</td><td>4 组 × 10-12 次</td><td>胸部上缘</td></tr>
            <tr><td data-details="史密斯机下斜推：使用史密斯机，下斜角度推举，注重胸下部发力。" onclick="showDetail(this)">史密斯机下斜推</td><td>4 组 × 8-12 次</td><td>胸部下缘</td></tr>
            <tr><td data-details="蝴蝶机夹胸：坐在蝴蝶机上，双手向中间夹合，注重内侧胸肌。" onclick="showDetail(this)">蝴蝶机夹胸</td><td>4 组 × 12-15 次</td><td>胸大肌内侧</td></tr>
            <tr><td data-details="杠铃卧推：平卧推举杠铃，全面刺激胸肌，注意安全。" onclick="showDetail(this)">杠铃卧推（最佳动作）</td><td>4 组 × 8-12 次</td><td>全面胸肌</td></tr>
        </table>
        <h5>拉伸</h5>
        <ul>
            <li>门框胸部拉伸 - 双臂撑门框，身体前倾，拉伸胸大肌（20-30秒，2-3次）</li>
            <li>手臂后拉伸 - 一手抓住另一侧手臂，向后拉，放松胸部和肩前（20-30秒，2-3次）</li>
            <li>跪姿胸椎伸展 - 跪地，双手前伸，胸部下沉，拉伸胸肌和背部（20-30秒，2-3次）</li>
        </ul>

        <h4>背部训练</h4>
        <table>
            <tr><th>动作</th><th>组数与次数</th><th>目标肌群</th></tr>
            <tr><td data-details="龙门架单臂绳索划船：单臂拉绳索，注重背部细节。" onclick="showDetail(this)">龙门架单臂绳索划船</td><td>每侧 4 组 × 10-12 次</td><td>背部细节</td></tr>
            <tr><td data-details="哑铃单臂划船：单手撑地，另一手划船，强化背阔肌。" onclick="showDetail(this)">哑铃单臂划船</td><td>每侧 4 组 × 10-12 次</td><td>背阔肌和斜方肌</td></tr>
            <tr><td data-details="杠铃俯身划船：俯身拉杠铃，增加背部厚度。" onclick="showDetail(this)">杠铃俯身划船</td><td>4 组 × 8-10 次</td><td>背部厚度</td></tr>
            <tr><td data-details="高位下拉器宽握下拉：宽握下拉，扩展背阔肌。" onclick="showDetail(this)">高位下拉器宽握下拉（最佳动作）</td><td>4 组 × 8-12 次</td><td>背阔肌宽度</td></tr>
        </table>
        <h5>拉伸</h5>
        <ul>
            <li>猫式拉伸 - 双手撑地，背部拱起，放松背阔肌（20-30秒，2-3次）</li>
            <li>侧身拉伸 - 站立，一手向上伸展并侧倾，拉伸背侧（20-30秒，2-3次）</li>
            <li>手臂交叉拉伸 - 双臂交叉于胸前，一手拉另一手臂，放松上背（20-30秒，2-3次）</li>
        </ul>

        <h4>肩部训练</h4>
        <table>
            <tr><th>动作</th><th>组数与次数</th><th>目标肌群</th></tr>
            <tr><td data-details="哑铃侧平举：双手持哑铃侧举，强化三角肌中束。" onclick="showDetail(this)">哑铃侧平举</td><td>4 组 × 12-15 次</td><td>三角肌中束</td></tr>
            <tr><td data-details="龙门架绳索面拉：拉绳索至脸部，针对后束。" onclick="showDetail(this)">龙门架绳索面拉</td><td>4 组 × 12-15 次</td><td>三角肌后束</td></tr>
            <tr><td data-details="杠铃前平举：前举杠铃，锻炼前束。" onclick="showDetail(this)">杠铃前平举</td><td>4 组 × 10-12 次</td><td>三角肌前束</td></tr>
            <tr><td data-details="史密斯机坐姿推举：坐姿推举，全面刺激三角肌。" onclick="showDetail(this)">史密斯机坐姿推举（最佳动作）</td><td>4 组 × 8-12 次</td><td>三角肌整体</td></tr>
        </table>
        <h5>拉伸</h5>
        <ul>
            <li>手臂跨胸拉伸 - 一手臂横跨胸前，另一手轻压，拉伸三角肌后束（20-30秒，2-3次）</li>
            <li>肩部后拉 - 双手背后相握，向后拉，打开肩前（20-30秒，2-3次）</li>
            <li>颈部侧拉 - 一手拉头部向一侧，放松斜方肌和肩部（20-30秒，2-3次）</li>
        </ul>

        <h4>腿部训练</h4>
        <table>
            <tr><th>动作</th><th>组数与次数</th><th>目标肌群</th></tr>
            <tr><td data-details="史密斯机弓步：单腿弓步，增强力量。" onclick="showDetail(this)">史密斯机弓步</td><td>每侧 4 组 × 10-12 次</td><td>单腿力量</td></tr>
            <tr><td data-details="腿伸展器：坐姿伸腿，强化股四头肌。" onclick="showDetail(this)">腿伸展器</td><td>4 组 × 12-15 次</td><td>股四头肌</td></tr>
            <tr><td data-details="龙门架绳索臀推：推绳索，锻炼臀部和腘绳肌。" onclick="showDetail(this)">龙门架绳索臀推</td><td>4 组 × 12-15 次</td><td>臀大肌和腘绳肌</td></tr>
            <tr><td data-details="杠铃深蹲：深蹲杠铃，全面训练腿部。" onclick="showDetail(this)">杠铃深蹲（最佳动作）</td><td>4 组 × 8-12 次</td><td>腿部整体</td></tr>
        </table>
        <h5>拉伸</h5>
        <ul>
            <li>股四头肌拉伸 - 站立，一手拉脚跟至臀部，拉伸大腿前侧（20-30秒，2-3次）</li>
            <li>腘绳肌拉伸 - 坐地，一腿伸直，身体前倾，拉伸腿后侧（20-30秒，2-3次）</li>
            <li>臀部拉伸 - 坐姿，一腿交叉于另一腿上，身体前倾，拉伸臀肌（20-30秒，2-3次）</li>
        </ul>

        <h4>手臂训练</h4>
        <table>
            <tr><th>动作</th><th>组数与次数</th><th>目标肌群</th></tr>
            <tr><td data-details="哑铃锤式弯举：锤式握姿弯举，强化肱肌。" onclick="showDetail(this)">哑铃锤式弯举</td><td>4 组 × 10-12 次</td><td>肱肌和前臂</td></tr>
            <tr><td data-details="史密斯机窄握推胸：窄握推举，针对肱三头肌。" onclick="showDetail(this)">史密斯机窄握推胸</td><td>4 组 × 8-12 次</td><td>肱三头肌</td></tr>
            <tr><td data-details="龙门架绳索下压：绳索下压，强化肱三头肌。" onclick="showDetail(this)">龙门架绳索下压（最佳动作 - 肱三头肌）</td><td>4 组 × 12-15 次</td><td>肱三头肌</td></tr>
            <tr><td data-details="杠铃弯举：弯举杠铃，强化肱二头肌。" onclick="showDetail(this)">杠铃弯举（最佳动作 - 肱二头肌）</td><td>4 组 × 8-12 次</td><td>肱二头肌</td></tr>
        </table>
        <h5>拉伸</h5>
        <ul>
            <li>肱二头肌拉伸 - 手臂伸直，手掌朝下靠墙，身体轻转，拉伸二头肌（20-30秒，2-3次）</li>
            <li>肱三头肌拉伸 - 一手弯曲过头顶，另一手轻压肘部，拉伸三头肌（20-30秒，2-3次）</li>
            <li>前臂拉伸 - 一手拉另一手手指向后，拉伸前臂肌群（20-30秒，2-3次）</li>
        </ul>

        <h4>休息日（周六）</h4>
        <p>休息日，可进行轻度拉伸或散步，放松身体。</p>

        <h4>放纵日（周日）</h4>
        <p>休息日，享受放纵饮食，无需训练。</p>

        <h4>训练与拉伸建议</h4>
        <ul>
            <li>训练：
                <ul>
                    <li>力量（8-12次）：休息90秒-2分钟。</li>
                    <li>塑形（12-15次）：休息60-90秒。</li>
                    <li>重量：70-85% 1RM，动作标准优先。</li>
                    <li>热身：5-10分钟动态拉伸+轻重量。</li>
                </ul>
            </li>
            <li>拉伸：
                <ul>
                    <li>每动作保持20-30秒，重复2-3次。</li>
                    <li>训练后进行，避免肌肉僵硬。</li>
                    <li>深呼吸，缓慢放松，不要用力过猛。</li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="record-module">
        <h3>训练记录模块</h3>
        <div class="record-actions">
            <button id="checkInBtn">打卡今日训练</button>
            <button id="viewRecordsBtn">查看打卡记录</button>
            <button id="exportRecordsBtn">导出当前运动数据</button>
            <button id="clearRecordsBtn">清除当前运动数据</button>
        </div>
        <div id="recordDisplay">
            <h4>今日打卡状态</h4>
            <p id="checkInStatus">未打卡</p>
            <h4>历史记录</h4>
            <ul id="historyList"></ul>
        </div>
    </div>

    <h3>注意事项</h3>
    <ul>
        <li>饮水： 每日 2.5-3 升，训练后淡盐水或椰子水。</li>
        <li>监测： 定期评估训练效果和身体状况。</li>
        <li>调整： 若训练停滞，考虑调整训练量、强度或动作。</li>
        <li>复查： 3 个月后测 BMI、尿酸、ALT、血压。</li>
    </ul>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 动态加载今日训练计划
            const weeklyPlan = document.getElementById('weekly-plan');
            const allPlans = document.getElementById('all-plans');
            function loadTodayPlan() {
                const day = new Date().getDay(); // 0-6, 0为星期日
                const plans = {
                    1: '胸部训练',
                    2: '背部训练',
                    3: '肩部训练',
                    4: '腿部训练',
                    5: '手臂训练'
                };
                const planName = plans[day] || (day === 6 ? '休息日（周六）' : '放纵日（周日）');
                if (plans[day]) {
                    weeklyPlan.innerHTML = allPlans.querySelector(`#${planName.toLowerCase().replace(' ', '-')}`).parentElement.innerHTML;
                } else {
                    weeklyPlan.innerHTML = `<p>${planName}</p>`;
                }
            }
            loadTodayPlan();

            // 动作介绍
            function showDetail(element) {
                alert(element.getAttribute('data-details') || '暂无详细说明，请联系管理员添加。');
            }

            // 打卡功能
            const checkInBtn = document.getElementById('checkInBtn');
            const viewRecordsBtn = document.getElementById('viewRecordsBtn');
            const exportRecordsBtn = document.getElementById('exportRecordsBtn');
            const clearRecordsBtn = document.getElementById('clearRecordsBtn');
            const checkInStatus = document.getElementById('checkInStatus');
            const historyList = document.getElementById('historyList');

            function loadCheckInStatus() {
                const today = new Date().toISOString().split('T')[0];
                const records = JSON.parse(localStorage.getItem('trainingRecords') || '{}');
                const currentPlan = getTodayPlan();
                if (records[today]) {
                    checkInStatus.textContent = `已打卡 - ${records[today]}`;
                } else {
                    checkInStatus.textContent = '未打卡';
                }
                loadHistory();
            }

            checkInBtn.addEventListener('click', () => {
                const today = new Date().toISOString().split('T')[0];
                const records = JSON.parse(localStorage.getItem('trainingRecords') || '{}');
                const currentPlan = getTodayPlan();
                records[today] = `完成: ${currentPlan}`;
                localStorage.setItem('trainingRecords', JSON.stringify(records));
                loadCheckInStatus();
                alert('打卡成功！');
            });

            viewRecordsBtn.addEventListener('click', () => {
                loadHistory();
            });

            function loadHistory() {
                const records = JSON.parse(localStorage.getItem('trainingRecords') || '{}');
                historyList.innerHTML = '';
                for (let date in records) {
                    const li = document.createElement('li');
                    li.textContent = `${date}: ${records[date]}`;
                    historyList.appendChild(li);
                }
            }

            exportRecordsBtn.addEventListener('click', () => {
                const records = localStorage.getItem('trainingRecords');
                const blob = new Blob([records], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'training_records.json';
                a.click();
                URL.revokeObjectURL(url);
            });

            clearRecordsBtn.addEventListener('click', () => {
                if (confirm('确定清除所有打卡记录？')) {
                    localStorage.removeItem('trainingRecords');
                    loadCheckInStatus();
                }
            });

            function getTodayPlan() {
                const day = new Date().getDay();
                const plans = {
                    1: '胸部训练',
                    2: '背部训练',
                    3: '肩部训练',
                    4: '腿部训练',
                    5: '手臂训练'
                };
                return plans[day] || '休息日';
            }

            loadCheckInStatus();
        });
    </script>
</body>
</html>
